{% extends "s3-subfolder-list.json.j2" %}

{% block main_s3_iam_statements %}
  {
    "Effect": "Allow",
    "Action": [
      "s3:AbortMultipartUpload",
      "s3:DeleteObject",
      "s3:DeleteObjectVersion",
      "s3:GetObject",
      "s3:GetObjectAcl",
      "s3:GetObjectVersion",
      "s3:GetObjectVersionAcl",
      "s3:PutObject",
      "s3:PutObjectAcl",
      "s3:PutObjectVersionAcl"
    ],
    "Resource": "arn:aws:s3:::{{ tmpl.s3_bucket_name }}{% if tmpl.s3_bucket_prefix is defined %}/{{ tmpl.s3_bucket_prefix.strip('/') }}{% endif %}/*"
  }
{% endblock %}
